<!DOCTYPE html>
<html>

<head>
	<title>Rock Paper Scissors</title>
	<meta charset="utf-8">
</head>

<body>
	<script>


		function computerPlay() {
			let selectRandomNumber = Math.floor(Math.random()*3) //this selct a number between 0, 1 and 2
			
			if (selectRandomNumber==0) {
				return ('rock');
			}

			else if (selectRandomNumber==1) {
				return ('paper');
			}

			else if (selectRandomNumber==2) {
				return ('scissors');
			}
		} //takes de computer play

		function playerPlay() {
			let playerSelection = prompt('select your play! (among rock, paper or scissors):'); //here we ask for a player to select a play

			playerSelection = playerSelection.toLowerCase(); // this make sure that the play choosed ir not case sensitive

			if (playerSelection !='rock' && playerSelection!='paper' && playerSelection !='scissors') {
				return (alert('this play is not allowed'));
			}

			else {
				return playerSelection;
			}


		} //takes player selected play

		function playRound(playerSelection, computerSelection) {

			if 	(playerSelection == 'rock'){
				if (computerSelection=='rock') {
					return ('computer selected Rock, we have a draw!');
				}

				else if (computerSelection == 'paper') {
					return ('computer selected Paper, you lose! Paper beats Rock');
				}

				else if (computerSelection == 'scissors') {
					return ('computer selected Scissore, you win! Rock beats Scissors');
				}
			}

			else if (playerSelection == 'paper'){
				if (computerSelection=='rock') {
					return ('computer selected Rock, you win! Paper beats Rock');
				}

				else if (computerSelection == 'paper') {
					return ('computer selected Paper, we have a draw!');
				}

				else if (computerSelection == 'scissors') {
					return ('computer selected Scissore, you lose! Scissors beats Paper');
				}

			}

			else if (playerSelection == 'scissors'){
				if (computerSelection=='rock') {
					return ('computer selected Rock, you lose! Rock beats scissors');
				}

				else if (computerSelection == 'paper') {
					return ('computer selected Paper, you win! Scissors beats Paper');
				}

				else if (computerSelection == 'scissors') {
					return ('computer selected Paper, we have a draw!');
				}
			}	
		} //iterate one game round

		function game(){
			let playerScore = 0;
			let computerScore = 0;

			for(round = 1; round <=3; round++ ){

				let playerSelection = playerPlay ();
				let computerSelection = computerPlay();

				let roundResult = playRound(playerSelection, computerSelection);


				if(roundResult.indexOf('win') > 0){
					playerScore++;

				}
				else if (roundResult.indexOf('lose') > 0){
					computerScore++;
		
				}

				console.log(roundResult);

			}

			if (playerScore > computerScore) {
				alert(`You won! ${playerScore} x ${computerScore}`)
			}

			else if (playerScore < computerScore) {
				alert(`You lost! ${playerScore} x ${computerScore}`)
			}

			else if (playerScore == computerScore) {
				alert(`We have a draw! ${playerScore} x ${computerScore}`)
			}
		}

	</script>
</body>

</html>